$(window).on("load",(function(){$(window).width()>992&&$(".d-lg-none > .tm-section-select-insurance").empty(),$(window).width()<991.98&&$(".d-none > .tm-section-select-insurance").empty(),$(window).width()<767.98&&($(".tm-hamburger").click((function(e){$(this).next(".tm-hamburger-menu").addClass("tm-slide-in"),$("body").addClass("stop-scroll"),gtag("event","Hamburger_Mobile_btn-click",{event_category:"HP-Buttons",event_label:"Hamburger"})})),$(".gtag-m-find-advisor").click((function(){gtag("event","Find_advisor-Mobile",{event_category:"Mega-Menu-Click",event_label:"Find Advisor"})})),$(".tm-hamburger-close").click((function(e){$(this).parents(".tm-hamburger-menu").removeClass("tm-slide-in"),$("body").removeClass("stop-scroll")})),$(".tm-menu-item.has-megamenu .tm-megamenu").find(".tm-button-back").length||$(".tm-menu-item.has-megamenu").find(".tm-megamenu").prepend('<button class="tm-button-back tm-sprite-3-before bg-arrow-left">Back</button>'),$(".tm-menu-item.has-megamenu").click((function(e){$(this).find(".tm-megamenu").addClass("tm-slide-in"),$(this).parents(".tm-hamburger-menu__main").addClass("tm-slide-out")})),$(".tm-button-back").click((function(e){e.stopPropagation(),$(this).parents(".tm-hamburger-menu__main").removeClass("tm-slide-out"),$(this).parents(".tm-megamenu").removeClass("tm-slide-in")})),$(".widgettitle-dropdown").click((function(e){e.stopPropagation(),$(".widgettitle-dropdown").not(this).next("div").slideUp("medium"),$(".widgettitle-dropdown").not(this).removeClass("show-submenu"),$(this).next("div").slideToggle("medium"),$(this).toggleClass("show-submenu")})),$("footer .tm-collapse").click((function(){$("footer .tm-collapse").not(this).find(".footer-heading").removeClass("show-submenu").next(".wp-block-group").slideUp("fast"),$(this).find(".footer-heading").toggleClass("show-submenu").next(".wp-block-group").slideToggle("fast")}))),$(".gtag-app-download").click((function(){gtag("event","Claim_App_download_click",{event_category:"HP-Buttons",event_label:"Download Now"})}))})),$(".tm-outing .wp-block-cover img").attr("loading","lazy");const truncatedLinks=document.querySelectorAll(".tm-truncate-link a"),truncatedLinkLines=document.querySelectorAll(".tm-truncate-link-lines a"),truncatedTexts=document.querySelectorAll(".tm-truncate"),truncatedLines=document.querySelectorAll(".tm-truncate-lines"),truncateGroup=[truncatedLinks,truncatedLinkLines,truncatedTexts,truncatedLines];truncateGroup.forEach((e=>{e.forEach((e=>{e.title=e.textContent}))}));const cardElementsToWrap=document.querySelectorAll(".wp-block-post");function detectEndOfpage(){window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2?$(".sidebar-trigger").slideUp("fast"):$(".sidebar-trigger").slideDown("fast")}function inViewport(e){const{top:t,bottom:n}=e.getBoundingClientRect();return window.innerHeight>t&&n>0}function loadDataImage(e){var t=e.getAttribute("data-imgsrc");t&&(e.setAttribute("src",t),e.removeAttribute("data-imgsrc"))}function imageLoaded(e){e.classList.add("show-img")}function loadSection(e){$(e).removeClass("hiddenSection")}function handleScroll(){document.querySelectorAll("img[data-imgsrc]").forEach((function(e){inViewport(e)&&loadDataImage(e)})),document.querySelectorAll(".hiddenSection").forEach((function(e){inViewport(e)&&loadSection(e)}))}function expandableContentHeight(){var e=document.querySelectorAll(".tm-container__content[data-max-height-mob]");e&&e.forEach((e=>{var t;t=$(window).width()<767.98?parseInt(e.getAttribute("data-max-height-mob")):parseInt(e.getAttribute("data-max-height")),e.style.maxHeight=t+"px"}))}function toggleContent(e){var t=e.parentNode.parentNode.querySelector(".tm-container__content");let n=e.closest(".plan-card"),a=e.closest("section");if(t){var o;o=$(window).width()<767.98?parseInt(t.getAttribute("data-max-height-mob")):parseInt(t.getAttribute("data-max-height"));let i,l,s=e.dataset.eventaction,r=e.dataset.eventcategory,c=e.dataset.eventlabel,d=e.dataset.ctadetails,u=e.dataset.ctavalue,m=e.querySelector(".icon-link").title,p=e.querySelector("span").innerText;t.style.maxHeight?(t.style.maxHeight=null,e.classList.add("shown"),l=p.includes("More")?p.replace("More","Less"):p,i=m.includes("More")?m.replace("More","Less"):m,e.querySelector("span").innerText=l,e.querySelector(".icon-link").title=i,t.classList.remove("has-toggle-expand-cta"),s&&r&&c&&e.setAttribute("onclick","toggleContent(this)")):(t.style.maxHeight=o+"px",e.classList.remove("shown"),l=p.includes("Less")?p.replace("Less","More"):p,i=m.includes("Less")?m.replace("Less","More"):m,e.querySelector("span").innerText=l,e.querySelector(".icon-link").title=i,t.classList.add("has-toggle-expand-cta"),n?window.scrollTo({top:n.offsetTop-140,behavior:"smooth"}):a&&window.scrollTo({top:a.offsetTop-140,behavior:"smooth"}),s&&r&&c&&d?e.setAttribute("onclick","toggleContent(this);tmClickEvent('"+s+"', '"+r+"', '"+c+"', '"+d+"')"):s&&r&&c&&u&&!d?e.setAttribute("onclick","toggleContent(this);tmClickEvent('"+s+"', '"+r+"', '"+c+"', '', '"+u+"')"):s&&r&&c&&e.setAttribute("onclick","toggleContent(this);tmClickEvent('"+s+"', '"+r+"', '"+c+"')"))}}function expandContent(e){let t=e.closest(".read-more-content"),n=t.querySelector("#remainingContent"),a=t.querySelector("#ellipsis"),o=t.querySelector("#readMoreLink");"none"===n.style.display?(n.style.display="inline",a.style.display="none",o.innerHTML="Read Less"):(n.style.display="none",a.style.display="inline",o.innerHTML="Read More")}function viewAllPlans(e,t,n,a,o,i,l,s,r,c){let d="/wp-admin/admin-ajax.php";"http://localhost:8888"==window.location.origin&&(d="//localhost:8888/consumer-website-wordpress/wp-admin/admin-ajax.php"),posts_per_page=-1,"true"==l&&(posts_per_page=s),i="#"+i,$.ajax({type:"POST",url:d,dataType:"json",data:{action:"show_all_plans",taxonomy:e,term:t,subtype:n,tag:a,posttype:o,posts_per_page:posts_per_page,display_name:r,vertical_name:c},beforeSend:function(){$(".tm-loader").show()},success:function(e){$(i).html(e.html),expandableContentHeight()},complete:function(){$(".tm-loader").hide()},error:function(e){}})}cardElementsToWrap.forEach((e=>{let t=$(e).find(".wp-block-post-title a").attr("href");const n=document.createElement("a");for(n.href=t,n.classList.add("wp-block-post__card-link");e.firstChild;)n.appendChild(e.firstChild);e.appendChild(n)})),window.addEventListener("scroll",detectEndOfpage),window.addEventListener("scroll",handleScroll),$(".show-more-partners").on("click",(function(e){e.preventDefault();let t=$(".tm-partners .partner:hidden"),n=$(".tm-partners .partner.visible");n.length>0?(n.fadeOut(800),$(n).removeClass("visible"),$("html, body").animate({scrollTop:$(".tm-partners").offset().top-180},1e3),$(this).find("a").text("View More")):($(t).fadeIn(800),$(t).addClass("visible"),$(this).find("a").text("View Less")),handleScroll()})),$(document).ready((function(){function e(){var e=$("nav.nav-horizontal-scroll ul li.nav-active");if(e.length>0){var n=$("nav.nav-horizontal-scroll ul.nav-horizontal-scroll-list"),a=n.scrollLeft(),o=e.closest(".menu-item.has-dropdown");if(o.length>0){var i=o.offset().left-n.offset().left+a;t(n[0],i,1e3)}else{var l=e.offset().left-n.offset().left+a,s=n[0].scrollWidth-n.width();t(n[0],Math.min(l,s),1e3)}}}function t(e,t,n){var a=e.scrollLeft,o=t-a,i=0;!function t(){i+=20;var l=Math.easeInOutQuad(i,a,o,n);e.scrollLeft=l,i<n&&requestAnimationFrame(t)}()}$(".tm-secondary-nav .menu-item.has-dropdown a").click((function(e){$(this).parent().find(".dropdown-expand").toggleClass("nav-show"),$(this).toggleClass("expanded")})),$(".tm-secondary-nav .menu-item.has-dropdown ul").click((function(){$(this).parent().toggleClass("nav-show"),$(this).parent().prev().toggleClass("expanded")})),$(document).click((function(e){var t=$(".tm-secondary-nav .menu-item.has-dropdown a");t.is(e.target)||0!==t.has(e.target).length||($(t).parent().find(".dropdown-expand").removeClass("nav-show"),$(t).removeClass("expanded"))})),$("nav.nav-horizontal-scroll").length>0&&$("html, body").animate({scrollTop:0},1e3),Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},$('a[href^="#"]').on("click",(function(e){var t=$($(this).attr("href"));if(t.length){e.preventDefault();var n=t.offset().top-140;$("html, body").animate({scrollTop:n},1e3,(function(){$("nav.nav-horizontal-scroll ul li").removeClass("nav-active"),$(e.target).closest("li").addClass("nav-active")}))}})),$("nav.nav-horizontal-scroll ul .menu-item:not(.has-dropdown) a").on("click",(function(t){$("nav.nav-horizontal-scroll ul li").removeClass("nav-active"),$(t.target).closest("li").addClass("nav-active"),e()})),$(window).on("scroll",(function(){var e=$(window).scrollTop(),t=!1;$(".highlight-section").each((function(n,a){var o=$(a).offset().top-142,i=o+$(a).outerHeight(),l=$(a).attr("id"),s=$('nav.nav-horizontal-scroll ul li a[href="#'+l+'"]');e>=o&&e<i?(s.closest("li").addClass("nav-active"),t=!0):s.closest("li").removeClass("nav-active")})),t||$("nav.nav-horizontal-scroll ul li").removeClass("nav-active")})),$(window).on("scroll",e)})),expandableContentHeight();let viewAllPlansLinks=document.querySelectorAll(".viewAllPost");function tmClickEventData(e){tmClickEvent(e.getAttribute("data-eventaction")||"",e.getAttribute("data-eventcategory")||"",e.getAttribute("data-eventlabel")||"",e.getAttribute("data-ctadetails")||"",e.getAttribute("data-ctavalue")||"")}function tmClickEvent(e,t,n,a,o){const i={event_category:""+t,event_label:""+n};void 0!==a&&(i.cta_details=""+a),void 0!==o&&(i.cta_value=""+o),gtag("event",""+e,i)}viewAllPlansLinks.forEach((e=>{e.addEventListener("click",(function(e){let t=e.target.parentElement.parentNode,n=t.dataset.allvisible,a=t.closest("section");if("false"==n){let e=t.dataset.taxonomy,a=t.dataset.term,o=t.dataset.subtype,i=t.dataset.tag,l=t.dataset.ajaxcontainer;viewAllPlans(e,a,o,i,t.dataset.posttype,l,n,t.dataset.planscount,t.dataset.displayname,t.dataset.verticalname);let s=t.querySelector(".icon-link span").innerText.replace("All","Less");t.querySelector(".icon-link").innerHTML="<span>"+s+'</span><i class="tm-sprite-1 bg-chevron-up-green"></i>';let r=t.title.replace("All","Less");t.title=r,t.querySelector(".icon-link").removeAttribute("onclick"),t.dataset.allvisible="true"}else{let e=t.dataset.taxonomy,o=t.dataset.term,i=t.dataset.subtype,l=t.dataset.tag,s=t.dataset.ajaxcontainer;viewAllPlans(e,o,i,l,t.dataset.posttype,s,n,t.dataset.planscount,t.dataset.displayname,t.dataset.verticalname);let r=t.querySelector(".icon-link span").innerText.replace("Less","All");t.querySelector(".icon-link").innerHTML="<span>"+r+'</span><i class="tm-sprite-1 bg-chevron-down-green"></i>';let c=t.title.replace("Less","All");t.title=c;let d=t.querySelector(".icon-link"),u=d.dataset.eventaction,m=d.dataset.eventcategory,p=d.dataset.eventlabel;d.setAttribute("onclick","tmClickEvent('"+u+"', '"+m+"', '"+p+"')"),t.dataset.allvisible="false",a&&window.scrollTo({top:a.offsetTop-140,behavior:"smooth"})}}))}));var wpcf7Elm=document.querySelector(".wpcf7");wpcf7Elm&&wpcf7Elm.addEventListener("wpcf7submit",(function(e){let t=e.target.className;if("mail_sent"==e.detail.status&&t.includes("get-advice-form")){let e=document.getElementsByName("ga-vertical")[0].value,t=document.getElementsByName("ga-insurer")[0].value;if(document.getElementsByName("ga-city")[0]){let n=document.getElementsByName("ga-city")[0].value;e.includes("Health-NH")?e="NH-City":e.includes("Car-CG")&&(e="CG-City"),tmClickEvent("Request a call",e,t,n)}else e.includes("Health-NH-India")?e="NH-India":e.includes("Car-CG-India")&&(e="CG-India"),tmClickEvent("Request a call",e,t)}}),!1);let viewMoreLinks=document.querySelectorAll(".viewMoreLink");function citySearchEvent(){if(""!=citySearchInput.value){var e=citySearchInput.value,t=citySearchInput.getAttribute("data-icname"),n=citySearchInput.getAttribute("data-vertical");t&&n&&e&&tmClickEvent("City search query",n,t,e)}}viewMoreLinks.forEach((e=>{e.addEventListener("click",(function(t){let n=this,a=n.parentElement.parentNode.querySelector(".viewMoreContainer"),o=a.querySelectorAll(".view-more-hidden"),i=a.closest("section"),l=n.dataset.eventaction,s=n.dataset.eventcategory,r=n.dataset.eventlabel;n.dataset.ctadetails,n.dataset.ctavalue;if(o.length>0){o.forEach((e=>{e.classList.add("view-more-visible"),e.classList.remove("view-more-hidden")}));let e,t=n.innerText;if(n.querySelector(".icon-link")){let e,t=n.querySelector(".icon-link").title;e=t.includes("More")?t.replace("More","Less"):t,n.querySelector(".icon-link").title=e}e=t.includes("More")?t.replace("More","Less"):t;let a=n.querySelector(".icon-link");a?a.innerHTML="<span>"+e+'</span><i class="tm-sprite-1 bg-chevron-up-green"></i>':n.querySelector(".wp-block-button__link").innerHTML="<span>"+e+"</span>",l&&s&&r&&n.removeAttribute("onclick")}else{i&&!e.classList.contains("sidebarLink")?$(window).width()<781.98?(topValue=i.offsetTop-100,window.scrollTo({top:topValue,behavior:"smooth"})):(topValue=i.offsetTop-140,window.scrollTo({top:topValue,behavior:"smooth"})):$(window).width()<781.98?(topValue=i.offsetTop-100,window.scrollTo({top:topValue,behavior:"smooth"})):(leftScrollable=document.querySelector(".left-scrollable").clientHeight,leftScrollableTop=document.querySelector(".left-scrollable").offsetTop,topValue=i.offsetTop-leftScrollableTop+leftScrollable-92,window.scrollTo({top:topValue,behavior:"smooth"})),a.querySelectorAll(".view-more-visible").forEach((e=>{e.classList.add("view-more-hidden"),e.classList.remove("view-more-visible")}));let t,o=n.innerText;if(n.querySelector(".icon-link")){let e,t=n.querySelector(".icon-link").title;e=t.includes("Less")?t.replace("Less","More"):t,n.querySelector(".icon-link").title=e}t=o.includes("Less")?o.replace("Less","More"):o;let c=n.querySelector(".icon-link");c?c.innerHTML="<span>"+t+'</span><i class="tm-sprite-1 bg-chevron-down-green"></i>':n.querySelector(".wp-block-button__link").innerHTML="<span>"+t+"</span>",l&&s&&r&&n.setAttribute("onclick","tmClickEvent('"+l+"', '"+s+"', '"+r+"')")}}))}));const citySearchInput=document.getElementById("locationInput");function pum_event_data(e){var t=$(e).find(".event-label").text(),n=window.location.href,a=$(e).find(".gfa-submit").text(),o="No";return $(e).find(".popup-icon-list").length>0&&(o="Yes"),{eventLabel:t,evenCategory:n,ctaDetails:a,ctaValue:o}}function baseVertical(){var e=window.location.href;return e.includes("health-insurance")?"Health":e.includes("car-insurance")||e.includes("four-wheeler-insurance")?"Car":e.includes("bike-insurance")||e.includes("two-wheeler-insurance")?"Bike":e.includes("life-insurance")?"Life":e===window.location.origin+"/"?"Homepage":"Other"}citySearchInput&&citySearchInput.addEventListener("input",citySearchEvent),$(document).on("pumBeforeOpen",".pum",(function(e){var t=e.target,n=$(t).find("form"),a=$(t).find("#formSection"),o=$(t).find("#successSection");n.length&&$(n).on("wpcf7mailsent",(function(){var e=pum_event_data(t);tmClickEvent("Website_lead_pop_up_Lead_submitted",e.evenCategory,e.eventLabel,e.ctaDetails,e.ctaValue),a.length&&o.length&&($(a).hide(),$(o).removeClass("d-none").show())}))})),$(document).on("pumAfterOpen",".pum",(function(e){var t=pum_event_data(e.target);tmClickEvent("Website_lead_pop_up_loaded",t.evenCategory,t.eventLabel,t.ctaDetails,t.ctaValue)})),$(document).on("pumAfterClose",".pum",(function(e){var t=pum_event_data(e.target);tmClickEvent("Website_lead_pop_up_closed",t.evenCategory,t.eventLabel,t.ctaDetails,t.ctaValue)})),$(document).on("pumAfterClose",".pum",(function(e){var t=e.target,n=$(t).find("form")[0],a=$(t).find("#formSection"),o=$(t).find("#successSection");n&&(n.reset(),a.length&&o.length&&($(a).show(),$(o).addClass("d-none").hide()))})),$(document).on("click",".tm-event",(function(){var e=baseVertical(),t=window.location.href;tmClickEvent("Get_Best_Insurance_Quotes_For_clicked",e,$(this).text()+" Clicked",t)})),$("#lead_unit_form_popup").on("shown.bs.modal",(function(e){var t=$(e.target).find("form")[0];t&&(t.addEventListener("wpcf7mailsent",(function(e){let t=$(e.target).parents(".modal-body").find("#formSection"),n=$(e.target).parents(".modal-body").find("#successSection");$(t).hide(),$(n).show()}),!1),$("#lead_unit_form_popup").on("hidden.bs.modal",(function(e){t.reset(),$(formSection).show(),$(successSection).hide()})))})),$(".wpcf7-form").submit((function(){var e=$(this).find("input[name=ga-timestamp]");e.length&&$(e).val(Date()),$(this).find(":input[type=submit]").prop("disabled",!0);var t=this;$(document).on("wpcf7invalid",(function(e){e.target===t&&$(".gfa-submit").prop("disabled",!1)}))}));